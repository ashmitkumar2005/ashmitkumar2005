# =========================
# 3D SNAKE MODE
# =========================
- name: 3D Snake Grid Animation
  if: ${{ github.event.inputs.game == 'snake3d' }}
  run: |
    mkdir -p dist
    cat > dist/heatmap.svg << 'EOF'
<svg width="100%" height="260" viewBox="0 0 1400 260" xmlns="http://www.w3.org/2000/svg">

  <defs>
    <linearGradient id="bgGrad" x1="0" x2="1" y1="0" y2="1">
      <stop offset="0%" stop-color="#0a0f1f"/>
      <stop offset="100%" stop-color="#111827"/>
    </linearGradient>

    <linearGradient id="cube" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#1f2937"/>
      <stop offset="100%" stop-color="#111827"/>
    </linearGradient>

    <linearGradient id="snakeGrad" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#22c55e"/>
      <stop offset="100%" stop-color="#4ade80"/>
    </linearGradient>
  </defs>

  <rect width="100%" height="100%" fill="url(#bgGrad)" />

  <!-- == grid == -->
  <g opacity="0.7">
    <rect width="26" height="26" x="0" y="0" fill="url(#cube)">
      <animate attributeName="x" values="0;1400" dur="1s" repeatCount="indefinite" />
    </rect>
  </g>

  <!-- == snake == -->
  <g id="snake">
    <rect x="0" y="120" width="24" height="24" rx="4" fill="url(#snakeGrad)">
      <animate attributeName="x"
               values="0;200;400;600;800;1000;1200;1400"
               dur="6s"
               repeatCount="indefinite" />
      <animate attributeName="y"
               values="120;80;120;160;120"
               dur="3s"
               repeatCount="indefinite" />
    </rect>
  </g>

</svg>
EOF
